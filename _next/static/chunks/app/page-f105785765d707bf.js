(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6264:function(e,i,n){Promise.resolve().then(n.bind(n,532))},532:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return v}});var a=n(7437),l=n(6648),o=n(9671),s=n.n(o),t=n(2824),_={src:"/payment-website/_next/static/media/bg-img.354e8d41.svg",height:928,width:778,blurWidth:0,blurHeight:0},r={src:"/payment-website/_next/static/media/img_frame.f65e410e.svg",height:578,width:578,blurWidth:0,blurHeight:0},g=n(2265),c=n(9978),d=n(3163),m=n(2808),u=n(1533),h=n.n(u),p=n(6463),b=n(8472),f=n(2649),j=()=>{let e=(0,p.useRouter)(),[i,n]=(0,g.useState)(""),[l,o]=(0,g.useState)(""),[s,_]=(0,g.useState)("");return(0,a.jsxs)(t.Z,{className:"mt-5",children:[(0,a.jsx)("h2",{className:h().login,children:"Login"}),(0,a.jsxs)(c.Z,{onSubmit:n=>{n.preventDefault(),b.Z.post("https://edsidera-staging-7ab88110fccd.herokuapp.com/api/user/login",{username:i,password:l},{headers:{"Content-Type":"application/json"}}).then(i=>{var n,a,l;let o=null===(n=i.data.data)||void 0===n?void 0:n.token,s=null===(l=i.data.data)||void 0===l?void 0:null===(a=l.user)||void 0===a?void 0:a.role;o&&s?(localStorage.setItem("token",o),f.Z.set("loggedin","true"),f.Z.set("role",s),f.Z.set("token",o),"Payee"===s?e.push("/home"):_("Login Failed: Unauthorized role")):_("Login failed: Invalid response")}).catch(e=>{_("Login failed: Incorrect credentials")})},children:[(0,a.jsxs)(c.Z.Group,{controlId:"formEmail",children:[(0,a.jsx)(c.Z.Label,{className:h().label,children:"Email address"}),(0,a.jsx)(c.Z.Control,{type:"email",placeholder:"Enter your email",value:i,className:h().login,onChange:e=>n(e.target.value),required:!0})]}),(0,a.jsxs)(c.Z.Group,{controlId:"formPassword",children:[(0,a.jsx)(c.Z.Label,{className:h().label,children:"Password"}),(0,a.jsx)(c.Z.Control,{type:"password",placeholder:"Password",value:l,className:h().login,onChange:e=>o(e.target.value),required:!0})]}),s&&(0,a.jsx)(d.Z,{variant:"danger",children:s}),(0,a.jsx)(m.Z,{variant:"primary",type:"submit",className:"".concat(h().btnlogin," mt-3"),children:"Login"})]})]})};function v(){return(0,p.useRouter)(),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(t.Z,{fluid:!0,className:s().login_space,children:(0,a.jsxs)("div",{className:s().align_login,children:[(0,a.jsxs)("div",{className:s().bg_img_login,children:[(0,a.jsx)("div",{className:s().bg_img_login1,children:(0,a.jsx)(l.default,{src:_,priority:!0,className:"img-fluid",alt:"img_logo"})}),(0,a.jsx)("div",{className:s().stunt,children:(0,a.jsx)(l.default,{src:r,priority:!0,className:"img-fluid",alt:"img_logo"})})]}),(0,a.jsx)("div",{className:s().shape_login,children:(0,a.jsx)(j,{})})]})})})}},9671:function(e){e.exports={login_space:"page_login_space__VgH8B",align_login:"page_align_login__2BGhG",shape_login:"page_shape_login__kW3tx",bg_img_login:"page_bg_img_login__TYg9c",bg_img_login1:"page_bg_img_login1__O7_ps",stunt:"page_stunt__NQTlI"}},1533:function(e){e.exports={login:"Login_login__H7trq",namefield:"Login_namefield__rj2__",img_logo:"Login_img_logo__wig_n",img_stae:"Login_img_stae__MKU4l",star:"Login_star__4JojU",space_form:"Login_space_form__L9QZ6",submit_field:"Login_submit_field___TSXc",bgcolor1:"Login_bgcolor1__iKVOL",bgcolor2:"Login_bgcolor2__a_vK3",checkpost:"Login_checkpost__pGWH_",remember:"Login_remember__BywHy",eye_img:"Login_eye_img__X9fEs",hide_password:"Login_hide_password__jh_yt",error:"Login_error__0IrUv",btnlogin:"Login_btnlogin__G2Kmm",label:"Login_label__VAjlC"}}},function(e){e.O(0,[67,236,974,971,23,744],function(){return e(e.s=6264)}),_N_E=e.O()}]);